(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{246:function(e,a,t){"use strict";t.r(a);t(285);var r=t(398),s=(t(256),t(263)),n=(t(288),t(399)),l=(t(289),t(397)),i=(t(291),t(396)),o=(t(293),t(402)),c=t(405),p=t(28),m=t(41),u=t(44),d=t(42),h=t(45),g=(t(264),t(283)),f=(t(404),t(403)),E=(t(265),t(262)),v=t(1),w=t.n(v),C=t(66),b=t(50),N=t(299),O=t.n(N),A=E.a.Item,_=f.a.Option,y=g.a.Group,M={ok:"success",pass:"normal",poor:"exception"},L=function(e){function a(){var e,t;Object(p.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).state={count:0,confirmDirty:!1,visible:!1,help:"",prefix:"86"},t.interval=void 0,t.onGetCaptcha=function(){var e=59;t.setState({count:e}),t.interval=window.setInterval(function(){e-=1,t.setState({count:e}),0===e&&clearInterval(t.interval)},1e3)},t.getPasswordStatus=function(){var e=t.props.form.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor"},t.handleSubmit=function(e){e.preventDefault();var a=t.props,r=a.form,s=a.dispatch;r.validateFields({force:!0},function(e,a){if(!e){var r=t.state.prefix;s({type:"BLOCK_NAME_CAMEL_CASE/submit",payload:Object(c.a)({},a,{prefix:r})})}})},t.checkConfirm=function(e,a,r){var s=t.props.form;a&&a!==s.getFieldValue("password")?r("BLOCK_NAME.password.twice"):r()},t.checkPassword=function(e,a,r){var s=t.state,n=s.visible,l=s.confirmDirty;if(a)if(t.setState({help:""}),n||t.setState({visible:!!a}),a.length<6)r("error");else{var i=t.props.form;a&&l&&i.validateFields(["confirm"],{force:!0}),r()}else t.setState({help:"BLOCK_NAME.password.required",visible:!!a}),r("error")},t.changePrefix=function(e){t.setState({prefix:e})},t.renderPasswordProgress=function(){var e=t.props.form.getFieldValue("password"),a=t.getPasswordStatus();return e&&e.length?w.a.createElement("div",{className:O.a["progress-".concat(a)]},w.a.createElement(o.a,{status:M[a],className:O.a.progress,strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})):null},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props,a=e.BLOCK_NAME_CAMEL_CASE,t=e.form.getFieldValue("mail");"ok"===a.status&&(i.a.success("\u6ce8\u518c\u6210\u529f\uff01"),b.a.push({pathname:"/user/register-result",state:{account:t}}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,a=e.form,t=e.submitting,i=a.getFieldDecorator,o=this.state,c=o.count,p=o.prefix,m=o.help,u=o.visible;return w.a.createElement("div",{className:O.a.main},w.a.createElement("h3",null,"BLOCK_NAME.register.register"),w.a.createElement(E.a,{onSubmit:this.handleSubmit},w.a.createElement(A,null,i("mail",{rules:[{required:!0,message:"BLOCK_NAME.email.required"},{type:"email",message:"BLOCK_NAME.email.wrong-format"}]})(w.a.createElement(g.a,{size:"large",placeholder:"BLOCK_NAME.email.placeholder"}))),w.a.createElement(A,{help:m},w.a.createElement(l.a,{getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},content:w.a.createElement("div",{style:{padding:"4px 0"}},'"passwordStatusMap[this.getPasswordStatus"',this.renderPasswordProgress(),w.a.createElement("div",{style:{marginTop:10}},'"BLOCK_NAME.strength.msg"')),overlayStyle:{width:240},placement:"right",visible:u},i("password",{rules:[{validator:this.checkPassword}]})(w.a.createElement(g.a,{size:"large",type:"password",placeholder:"BLOCK_NAME.password.placeholder"})))),w.a.createElement(A,null,i("confirm",{rules:[{required:!0,message:"BLOCK_NAME.confirm-password.required"},{validator:this.checkConfirm}]})(w.a.createElement(g.a,{size:"large",type:"password",placeholder:"BLOCK_NAME.confirm-password.placeholder"}))),w.a.createElement(A,null,w.a.createElement(y,{compact:!0},w.a.createElement(f.a,{size:"large",value:p,onChange:this.changePrefix,style:{width:"20%"}},w.a.createElement(_,{value:"86"},"+86"),w.a.createElement(_,{value:"87"},"+87")),i("mobile",{rules:[{required:!0,message:"BLOCK_NAME.phone-number.required"},{pattern:/^\d{11}$/,message:"BLOCK_NAME.phone-number.wrong-format"}]})(w.a.createElement(g.a,{size:"large",style:{width:"80%"},placeholder:"BLOCK_NAME.phone-number.placeholder"})))),w.a.createElement(A,null,w.a.createElement(r.a,{gutter:8},w.a.createElement(n.a,{span:16},i("captcha",{rules:[{required:!0,message:"BLOCK_NAME.verification-code.required"}]})(w.a.createElement(g.a,{size:"large",placeholder:"BLOCK_NAME.verification-code.placeholder"}))),w.a.createElement(n.a,{span:8},w.a.createElement(s.a,{size:"large",disabled:!!c,className:O.a.getCaptcha,onClick:this.onGetCaptcha},c?"".concat(c," s"):"BLOCK_NAME.register.get-verification-code")))),w.a.createElement(A,null,w.a.createElement(s.a,{size:"large",loading:t,className:O.a.submit,type:"primary",htmlType:"submit"},"\u70b9\u51fb\u6ce8\u518c"),w.a.createElement(C.b,{className:O.a.login,to:"/user/login"},"\u8fd4\u56de\u767b\u5f55\u9875"))))}}]),a}(v.Component);a.default=E.a.create()(L)},299:function(e,a,t){}}]);
//# sourceMappingURL=7.369fabdf.chunk.js.map